LIST P=16F84A
    INCLUDE <P16F84A.INC>
    ORG 0
    
    CONT    EQU 0X0F
    CONT2   EQU	0X11
    CONT3   EQU	0X12
    REGA    EQU	0X0C
    REGB    EQU	0X0D
    REGCOM  EQU	0X0E
    
    
    
	    
    INICIO 
	    
	BSF	STATUS,RP0
	CLRF    TRISA
	CLRF    TRISB
	BCF	STATUS,RP0
		    
    PRIN
	
	MOVLW	B'00000110'
	MOVWF	PORTA
	MOVLW	B'01001000'
	MOVWF	REGA
	MOVLW	B'01001000'
	MOVWF	REGB

	
    CODIGIN
	CALL	MOVA
	CALL	PRA
	CALL	TIME
	BTFSC	REGA,7
	CALL	MOVJLED
	
	CALL	MOVA
	CALL	PRA
	CALL	TIME
	BTFSC	REGA,7
	CALL	MOVJLED
	
	CALL	MOVB
	CALL	PRB
	
	CALL	MOVA
	CALL	PRA
	BTFSC	REGA,7
	CALL	MOVJLED
	
	CALL	TIME
	GOTO	CODIGIN
	
	
	
    TIME
	MOVLW	D'15'
	MOVWF	CONT
    TA
	MOVLW	D'100'
	MOVWF	CONT2
    TB
	MOVLW	D'100'
	MOVWF	CONT3
    TC	
	DECFSZ	CONT3
	GOTO	TC
	DECFSZ	CONT2
	GOTO	TB
	DECFSZ	CONT
	GOTO	TA
	RETURN
    
    MOVA 
	RLF	REGA,1
	RETURN
	
    MOVB
	RLF	REGB,1
	RETURN

    PRA
	MOVF    REGA,0
	MOVWF   PORTB
	RETURN

    PRB
	MOVF    REGB,0
	MOVWF   PORTB
	RETURN
	
    MOVJLED
	RLF	REGCOM,1
	BTFSC	REGCOM,1
	GOTO	ALGO
	MOVLW	MOVLW	B'00001'
	MOVWF	PORTA

	ALGO
	    MOVLW	MOVLW	B'00010'
	    MOVWF	PORTA
	RETURN